function _(){const a=["45yJtAtD","relList",'link[rel="modulepreload"]',"addedNodes","1865434yOwSwh","credentials","childList","2963135MhNesK","2280264oeNkPU","modulepreload","querySelectorAll","anonymous","crossOrigin","13013136ugDNaS","LINK","omit","href","414750awggRi","use-credentials","type","include","241076niFYnY","referrerPolicy","integrity","observe","supports","3qaycLQ","link","128562FCbqxU"];return _=function(){return a},_()}function v(a,x){const t=_();return v=function(e,s){return e=e-489,t[e]},v(a,x)}(function(a,x){const t=v,e=a();for(;;)try{if(parseInt(t(504))/1+parseInt(t(491))/2*(-parseInt(t(513))/3)+-parseInt(t(508))/4+-parseInt(t(516))/5*(parseInt(t(515))/6)+-parseInt(t(494))/7+parseInt(t(495))/8+parseInt(t(500))/9===x)break;e.push(e.shift())}catch{e.push(e.shift())}})(_,536553),function(){const x=v,t=document.createElement(x(514))[x(517)];if(t&&t.supports&&t[x(512)](x(496)))return;for(const o of document[x(497)](x(489)))s(o);new MutationObserver(o=>{const n=x;for(const r of o)if(r[n(506)]===n(493))for(const c of r[n(490)])c.tagName===n(501)&&c.rel===n(496)&&s(c)})[x(511)](document,{childList:!0,subtree:!0});function e(o){const n=x,r={};return o.integrity&&(r[n(510)]=o[n(510)]),o.referrerPolicy&&(r.referrerPolicy=o[n(509)]),o[n(499)]===n(505)?r.credentials=n(507):o[n(499)]===n(498)?r[n(492)]=n(502):r[n(492)]="same-origin",r}function s(o){const n=x;if(o.ep)return;o.ep=!0;const r=e(o);fetch(o[n(503)],r)}}();const i=k;(function(a,x){const t=k,e=a();for(;;)try{if(parseInt(t(545))/1+parseInt(t(681))/2+-parseInt(t(482))/3*(parseInt(t(645))/4)+parseInt(t(599))/5*(-parseInt(t(564))/6)+parseInt(t(654))/7+-parseInt(t(611))/8+parseInt(t(608))/9===x)break;e.push(e.shift())}catch{e.push(e.shift())}})(w,751583);const C={width:800,height:600};let g=[],T=[];function w(){const a=["graphics","Victim","caught","healthBarBg","bold","resume","sprite","rectangle","FloatBetween","input","counted","weightedRandomRole","documentElement","passedWall","fillRect","mozRequestFullScreen","heart","config","explosionSound","24px","tweens","matches","setOrigin","find","/assets/worker.png","spawnHeart","Encounters: ","add","style","values","fillStyle","getElementById","ArrowLeft","Smuggler","6695LWQweC","finalScore","setVolume","game","countUpScore","time","#ffd700","smuggler","width","4894974jqpZiG","/assets/bus.png","delayedCall","2596160HwoGIH","explode","scene","targetY","setScale","audio","Worker","length","/assets/glass-breaking.mp3","mute","click","isPlaying","#orientationOverlay","movingToBottom","#gameStartBtn","querySelector","keydown","spawnAnimation","targetBottomX","play","text","createCursorKeys","/assets/victim.png","rescued","getScene","#gameWinLoseSpan","requestFullscreen","sound","clientWidth","strokeRect","max","Final Score: 0","roleTexts","roleObj","120ZWTlpT","pointerdown","canvas","bus","load","explosion","index","abs","dotsTimer","1996533lLmzwm","#mobileIntroDiv","stop","movingRight","test","updateHealth","Between","block","scoreTimes","restartGameBtn","sqrt","sys","/assets/grind.mp3","splice","anims","Final Score: ","targetX","activeTouches","targetHole","setText","textContent","addEvent","spritesheet","role","matchMedia","/assets/drugs.png","celebrateRescue","1655932FtLrvo","Math","resize","roleSprites","Terrorist","animateNextRole","/assets/map.jpg","none","image","WEBGL","#ffdd44","reduce","refresh","worker","addPointer","88869XEMExZ","main","right","/assets/thankyou.mp3","addEventListener","scene-game","start","setDisplaySize","#gameStartDiv","fadeOut","key","flex","/assets/explosion.png","Game","Encounters: 0","thankyouSound","webkitRequestFullscreen","/assets/introbg.jpg","drugs","grindSound","touchstart","spawnDot","display","generateFrameNumbers","action","orientationchange","create","drugsSound","updateHealthBar","keys","gameover_bg","preload","finalScoreText","setDepth","isDown","#workerScore","/assets/terrorist.png","/assets/fence.png","sparks","some","#gameCanvas","tapOverlay","reload","pause","msRequestFullscreen","removeEventListener","scene-gameover","#gameEndScoreSpan","0 x ","/assets/smuggler.png","scale","removeBlock","push","forEach","name","orientationOverlay","healthBar","keyboard","/assets/explosion.wav","/assets/sparks.png","Arial","update","min","606319TYgdUp","movingLeft","toLowerCase","destroy","spawnDrugs","weight","terrorist","28px","#fff","Bounce.easeOut","height","(orientation: portrait)","#SmugglerScore","speed","pointerup","blocksTimer","spawnExplosion","Distance","scoreText","1338OiaHpI"];return w=function(){return a},w()}const R=18,q=46;let I=0;const G=8;function k(a,x){const t=w();return k=function(e,s){return e=e-481,t[e]},k(a,x)}let l,u=100;const y=5;let W=!1,O=[],E;const D=document[i(626)](i(655)),K=document[i(626)]("#goFullScreenBtn"),U=document[i(626)](i(623)),H=document.querySelector(i(522)),F=document.querySelector(i(490));document[i(626)]("#gameEndDiv");const V=document.querySelector(i(625));document[i(626)](i(636));document.querySelector(i(529));const Y=document[i(626)](i(517)),X=document.querySelector("#terroristScore"),Z=document[i(626)](i(557)),Q=document[i(626)]("#victimScore"),S={Worker:Y,Terrorist:X,Smuggler:Z,Victim:Q},b=[{name:i(566),color:65280,scoreTimes:5,weight:20,damage:1,heal:5,action:i(634)},{name:"Worker",color:255,scoreTimes:1,weight:60,damage:1,heal:0,action:i(567)},{name:i(598),color:16776960,scoreTimes:3,weight:15,damage:10,heal:0,action:i(567)},{name:i(685),color:16711680,scoreTimes:5,weight:5,damage:20,heal:0,action:i(567)}];let m={Worker:0,Terrorist:0,Smuggler:0,Victim:0},J={Worker:0,Terrorist:0,Smuggler:0,Victim:0};class $ extends Phaser.Scene{constructor(){const x=i;super(x(487)),this.gameTimer,this.blocksTimer,this[x(653)],this[x(501)],this.explosionSound,this.drugsSound,this.thankyouSound}preload(){const x=i;this.load.image("bg",x(687)),this[x(649)].image(x(661),x(519)),this[x(649)][x(689)](x(551),x(518)),this[x(649)].image(x(694),x(589)),this[x(649)].image(x(606),x(531)),this[x(649)][x(689)]("victim",x(633)),this[x(649)][x(689)](x(648),x(609)),this[x(649)][x(689)](x(581),"/assets/heart.png"),this.load[x(676)](x(520),x(541),{frameWidth:492/2,frameHeight:492/2,spacing:0}),this[x(649)][x(616)](x(501),x(666)),this.load[x(676)](x(650),x(494),{frameWidth:837/3,frameHeight:558/2,spacing:0}),this[x(649)][x(616)](x(583),x(540)),this[x(649)].spritesheet(x(500),x(679),{frameWidth:837/3,frameHeight:558/2,spacing:0}),this[x(649)][x(616)](x(509),x(619)),this.load.audio(x(497),"/assets/thankyou.mp3")}[i(508)](){const x=i;this[x(613)].pause(x(487)),this[x(592)].image(0,0,"bg")[x(587)](0,0),this[x(501)]=this.sound[x(592)](x(501)),this[x(583)]=this[x(638)][x(592)](x(583)),this[x(509)]=this[x(638)][x(592)](x(509)),this[x(497)]=this[x(638)].add("thankyouSound");for(let t=0;t<q;t++){let e=t*R+(800-q*R)/2,s=200,o=this[x(592)][x(689)](e,s,x(661))[x(587)](.5,.5)[x(615)](.7);o[x(515)](10),g[x(534)](o)}this[x(560)]=this.time.addEvent({delay:5e3,callback:this[x(533)],callbackScope:this,loop:!0}),this[x(653)]=this.time[x(675)]({delay:3e3,callback:this[x(503)],callbackScope:this,loop:!0}),l=this.add[x(689)](400,400,x(648)).setOrigin(.5,.5)[x(615)](.3),E=this[x(574)][x(539)][x(632)](),this[x(568)]=this.add[x(565)]()[x(515)](100),this.healthBarBg[x(595)](4473924,1),this.healthBarBg[x(579)](20,20,104,14),this[x(538)]=this[x(592)][x(565)]().setDepth(101),this.updateHealthBar(),this.anims[x(508)]({key:"sparks",frames:this[x(668)].generateFrameNumbers(x(520),{start:0,end:3}),frameRate:10,repeat:2,hideOnComplete:!0}),this[x(668)].create({key:x(612),frames:this[x(668)].generateFrameNumbers(x(650),{start:0,end:5}),frameRate:10,repeat:0,hideOnComplete:!0}),this.anims[x(508)]({key:x(500),frames:this[x(668)][x(505)]("drugs",{start:0,end:5}),frameRate:10,repeat:0,hideOnComplete:!0}),this.scoreText=this[x(592)][x(631)](600,20,x(496),{fontSize:x(584),fill:x(553),fontFamily:x(542),stroke:"#000",strokeThickness:3})[x(515)](100),this[x(574)][x(481)](2),this.activeTouches={},this[x(574)].on(x(646),t=>{const e=x;if(!isFinite(t.x)){d[e(532)][e(693)]();return}let s=this[e(665)][e(647)][e(639)],o=this[e(665)][e(602)].config[e(607)],n=t.x*(o/s);this[e(671)][t.id]=n,n<o/2?this[e(546)]=!0:this[e(657)]=!0}),this[x(574)].on(x(559),t=>{const e=x;t.x*(this[e(665)][e(602)][e(582)][e(607)]/this[e(665)][e(647)][e(639)]),delete this.activeTouches[t.id],this.movingLeft=Object[e(594)](this[e(671)]).some(s=>s<this[e(665)][e(602)][e(582)][e(607)]/2),this[e(657)]=Object[e(594)](this[e(671)])[e(521)](s=>s>this[e(665)][e(602)][e(582)].width/2)}),this[x(574)].on("pointerout",t=>{const e=x;delete this[e(671)][t.id],this[e(546)]=Object[e(594)](this.activeTouches)[e(521)](s=>s<this[e(665)][e(602)][e(582)][e(607)]/2),this.movingRight=Object.values(this[e(671)])[e(521)](s=>s>this.sys[e(602)][e(582)][e(607)]/2)})}spawnExplosion(x,t){const e=i;let s=this[e(592)][e(571)](x,t-40,e(650)).setOrigin(.5,.5);s[e(615)](.3),s[e(630)](e(612)),!this[e(583)][e(622)]&&this[e(583)].stop(),this[e(583)][e(630)]({volume:.6}),this[e(604)][e(610)](2e3,()=>{const o=e;let n=500,r=10,c=n/r,h=.6,p=this[o(604)].addEvent({delay:c,repeat:r-1,callback:()=>{const f=o;h-=1/r,this.explosionSound[f(601)](Math[f(641)](0,h)),h<=0&&(this[f(583)].stop(),p.remove())}})})}[i(549)](x,t){const e=i;let s=this[e(592)][e(571)](x,t-40,"drugs")[e(587)](.5,.5);s[e(615)](.3),s[e(630)]("drugs"),!this[e(583)].isPlaying&&this[e(509)].stop(),this[e(509)][e(630)]({volume:1,seek:.5})}[i(533)](){const x=i;if(g[x(618)]>0&&I<G){let t=Phaser[x(682)].Between(3,g[x(618)]-3),e=g[x(667)](t,1)[0],s=this[x(592)][x(571)](e.x,e.y,x(520))[x(587)](.5);s[x(615)](.1),s[x(630)](x(520)),this[x(501)][x(630)]({volume:1,seek:1}),this[x(604)][x(610)](1e3,()=>{const o=x;T[o(534)](e.x),I++,s[o(548)](),e[o(548)](),this[o(501)][o(656)]()})}}[i(576)](){const x=i;let t=b[x(692)]((o,n)=>o+n[x(550)],0),e=Phaser[x(682)].Between(1,t),s=0;for(let o of b)if(s+=o.weight,e<=s)return o;return b[0]}[i(503)](){const x=i;for(let t=0;t<20;t++){let e=this[x(576)](),s=this[x(592)][x(689)](Phaser[x(682)][x(660)](10,790),0,e.name[x(547)]())[x(587)](.5,.5)[x(615)](.1);s[x(558)]=Phaser[x(682)][x(573)](1,5),s[x(629)]=Phaser[x(682)][x(660)](10,790),s.setDepth(5),O.push({sprite:s,targetHole:null,passedWall:!1,movingToBottom:!1,role:e[x(536)],roleObj:e,counted:!1})}}[i(543)](){const x=i;E.left.isDown?l.x=Math.max(50,l.x-y):E[x(484)][x(516)]&&(l.x=Math[x(544)](750,l.x+y)),this[x(546)]&&(l.x=Math[x(641)](50,l.x-y)),this[x(657)]&&(l.x=Math[x(544)](750,l.x+y)),O[x(535)](t=>{const e=x;let s=t[e(571)];if(!t[e(575)]){if(s.y>=600){t[e(575)]=!0,J[t[e(677)]]++,this.updateHealth(-t[e(644)].damage),t[e(677)]===e(685)&&this[e(561)](s.x,s.y),t[e(677)]===e(598)&&this[e(549)](s.x,s.y),s[e(548)]();return}if(I==0)s.y<g[0].y-50&&(s.y+=s[e(558)]*.1);else if(t[e(578)]){!t.movingToBottom&&(t[e(670)]=s[e(629)],t[e(614)]=600,t[e(624)]=!0);let o=t[e(670)]-s.x,n=t[e(614)]-s.y,r=Math[e(664)](o*o+n*n);r>2?(s.x+=o/r*s.speed*.5,s.y+=n/r*s.speed*.5):(s.x=t[e(670)],s.y=t.targetY)}else if(T[e(618)]>0&&s.y<200){!t[e(672)]&&(t[e(672)]=T[e(692)]((c,h)=>Math.abs(h-s.x)<Math[e(652)](c-s.x)?h:c));let o=t[e(672)]-s.x,n=200-s.y,r=Math.sqrt(o*o+n*n);r>2?(s.x+=o/r*s[e(558)]*.5,s.y+=n/r*s[e(558)]*.5):s.y+=s[e(558)]}else s.y+=s.speed,s.y>=200&&(t.passedWall=!0);Phaser[e(682)][e(562)][e(660)](s.x,s.y,l.x,l.y)<40&&(t[e(575)]=!0,m[t[e(677)]]++,this[e(563)][e(673)](e(591)+(m[e(617)]+m[e(685)]+m[e(598)]+m[e(566)])),this[e(659)](t[e(644)].heal),t.role===e(566)&&this.celebrateRescue(s.x,s.y),s[e(548)]())}})}[i(680)](x,t){const e=i;this.thankyouSound.play({volume:1});let s=this[e(592)][e(571)](x,t,e(581))[e(615)](.5)[e(515)](200);this[e(585)][e(592)]({targets:s,x:100,y:50,scale:{from:.5,to:.1},alpha:{from:1,to:.6},ease:"Cubic.easeOut",duration:1e3,onComplete:()=>s[e(548)]()})}[i(659)](x){const t=i;let e=u;u=Phaser[t(682)].Clamp(u+x,0,100),u!==e&&this[t(510)](),u<=0&&x0()}[i(510)](){const x=i;this[x(538)].clear(),this[x(538)][x(595)](u>60?65280:u>30?16776960:16711680,1),this[x(538)][x(579)](22,22,u,10),this.healthBarBg.lineStyle(2,16777215,1),this[x(568)][x(640)](20,20,104,14)}}function x0(){const a=i;let x=d[a(613)][a(635)](a(487));x&&(x[a(638)].stopAll(),O[a(535)](t=>t[a(571)][a(548)]()),O=[],x.cameras[a(483)][a(491)](1e3,0,0,0),x[a(604)][a(610)](1e3,()=>{const t=a;d[t(613)][t(656)](t(487)),d[t(613)][t(488)](t(528))}))}class e0 extends Phaser.Scene{constructor(){const x=i;super("scene-gameover"),this[x(583)],this[x(509)],this[x(497)]}[i(513)](){const x=i;this[x(649)][x(689)](x(512),x(499)),this.load.audio(x(583),"/assets/explosion.wav"),this[x(649)][x(616)]("drugsSound",x(619)),this[x(649)][x(616)](x(497),x(485))}[i(508)](){const x=i;this[x(592)][x(689)](400,300,x(512))[x(489)](800,600),this[x(592)][x(572)](400,300,800,600,0,.5),this[x(583)]=this[x(638)][x(592)](x(583)),this.drugsSound=this[x(638)][x(592)]("drugsSound"),this[x(497)]=this[x(638)][x(592)]("thankyouSound"),this[x(592)].text(400,50,"Final Score Breakdown",{fontSize:"32px",fill:x(553)})[x(587)](.5);let t=Object[x(511)](m);this[x(651)]=0,this[x(684)]={},this[x(643)]={};let e=120,s=60,o=550;this[x(600)]=0,this[x(514)]=this[x(592)].text(o+30,e+(t[x(618)]+1)*s,x(642),{fontSize:x(552),fill:x(691),fontWeight:x(569)})[x(587)](1,.5),t[x(535)]((n,r)=>{const c=x;let h=e+r*s;this[c(684)][n]=this[c(592)][c(571)](150,-100,n.toLowerCase())[c(615)](.5)[c(587)](.5,.5),this[c(643)][n]=this[c(592)][c(631)](220,-100,n+"s "+b[c(588)](p=>p[c(536)]===n)[c(506)]+": ",{fontSize:c(584),fill:"#fff"})[c(587)](0,.5),S[n]=this.add[c(631)](o+30,-100,c(530)+b.find(p=>p[c(536)]===n)[c(662)],{fontSize:c(584),fill:c(605)}).setOrigin(1,.5),this.roleSprites[n][c(614)]=h,this[c(643)][n][c(614)]=h,S[n][c(614)]=h}),this[x(686)]()}[i(686)](){const x=i;let t=Object[x(511)](m);if(this[x(651)]>=t[x(618)])return;let e=t[this[x(651)]],s=this[x(684)][e][x(614)];this.tweens.add({targets:[this[x(684)][e],this[x(643)][e],S[e]],y:s,duration:1200,ease:x(554),delay:this[x(651)]*200,onComplete:()=>{this[x(603)](e)}})}countUpScore(x){const t=i;let e=m[x],s=b[t(588)](r=>r[t(536)]===x)[t(662)],o=Math[t(544)](4e3,e*100)/Math.max(1,e),n=0;if(e===0){this[t(628)](this[t(684)][x].x,this[t(684)][x].y,x),this.time[t(610)](500,()=>{const r=t;this[r(684)][x][r(548)](),this[r(651)]++,this.animateNextRole()});return}this[t(604)][t(675)]({delay:o,repeat:e-1,callback:()=>{const r=t;n++,S[x][r(673)](n+" x"+s),this[r(600)]+=s,this[r(514)][r(673)](r(669)+this[r(600)]),n===e&&this[r(604)][r(610)](500,()=>{const c=r;this[c(628)](this[c(684)][x].x,this.roleSprites[x].y,x),this[c(684)][x][c(548)](),this[c(651)]++,this[c(686)]()})}})}[i(628)](x,t,e){const s=i;e==="Terrorist"&&this[s(561)](x,t),e==="Smuggler"&&this[s(549)](x,t),e===s(566)&&this.spawnHeart(x,t)}[i(561)](x,t){const e=i;this[e(592)][e(571)](x,t,"explosion")[e(587)](.5,.5).setScale(.5)[e(630)](e(612)),this[e(583)][e(630)]({volume:.6}),this.time[e(610)](2e3,()=>{const o=e;let n=500,r=10,c=n/r,h=.6,p=this[o(604)][o(675)]({delay:c,repeat:r-1,callback:()=>{const f=o;h-=1/r,this[f(583)][f(601)](Math[f(641)](0,h)),h<=0&&(this[f(583)][f(656)](),p.remove())}})})}[i(549)](x,t){const e=i;let s=this.add[e(571)](x,t-20,e(500))[e(587)](.5,.5);s[e(615)](.3),s[e(630)](e(500)),this[e(509)][e(630)]({volume:1,seek:.5})}[i(590)](x,t){const e=i;let s=this[e(592)][e(571)](x,t,e(581))[e(615)](.5)[e(515)](200);this[e(585)][e(592)]({targets:s,x,y:t,scale:{from:.1,to:.5},alpha:{from:1,to:.6},ease:"Cubic.easeOut",duration:1e3,onComplete:()=>s[e(548)]()}),this[e(497)][e(630)]({volume:1})}}const t0={type:Phaser[i(690)],height:C[i(555)],width:C.width,canvas:H,scene:[$,e0]},d=new Phaser[i(495)](t0);B()?(F[i(593)][i(504)]="none",D[i(593)][i(504)]=i(493),P(),window[i(486)](i(683),P),window[i(486)](i(507),P)):U.style.display=i(688);V[i(486)](i(621),()=>{const a=i;F[a(593)].display=a(688),H.style.display=a(493),W=!0,d[a(613)][a(570)](a(487)),d.scale[a(693)](),a0(),window.addEventListener("touchstart",z),o0(),window.addEventListener(a(627),A)}),K.addEventListener(i(621),()=>{const a=i;D[a(593)].display=a(688),F[a(593)][a(504)]=a(493),i0(document[a(577)])});let L=!1;const M=document.getElementById("muteButton");function s0(){const a=i;L=!L,L?(d.sound.mute=!0,M[a(674)]="🔇"):(d[a(638)][a(620)]=!1,M[a(674)]="🔊")}M[i(486)](i(621),s0);function B(){return/Mobi|Android|iPhone|iPad|iPod/i[i(658)](navigator.userAgent)}function i0(a){const x=i;a.requestFullscreen?a[x(637)]():a[x(580)]?a[x(580)]():a[x(498)]?a[x(498)]():a[x(526)]&&a[x(526)]()}function P(){const a=i;let x=document.getElementById(a(537));if(!B()){x.style[a(504)]=a(688);return}window[a(678)](a(556))[a(586)]?(x.style[a(504)]=a(493),d[a(613)][a(525)](a(487))):(x[a(593)][a(504)]=a(688),W&&d.scene.resume(a(487)))}const j=document[i(596)](i(523));function a0(){const a=i;B()&&(j[a(593)][a(504)]=a(493))}function z(){const a=i;j.style[a(504)]=a(688),window.removeEventListener(a(502),z)}const N=document[i(596)]("keyboardOverlay");function o0(){const a=i;!B()&&(N[a(593)][a(504)]=a(493))}function A(a){const x=i;(a[x(492)]===x(597)||a.key==="ArrowRight")&&(N.style[x(504)]=x(688),window[x(527)](x(627),A))}document[i(596)](i(663))[i(486)](i(621),()=>{location[i(524)]()});
