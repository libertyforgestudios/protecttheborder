(function(i,x){const t=_,e=i();for(;;)try{if(parseInt(t(336))/1+parseInt(t(345))/2+parseInt(t(335))/3*(parseInt(t(353))/4)+-parseInt(t(346))/5*(-parseInt(t(351))/6)+-parseInt(t(344))/7+parseInt(t(348))/8+-parseInt(t(332))/9===x)break;e.push(e.shift())}catch{e.push(e.shift())}})(v,783742),function(){const x=_,t=document[x(333)]("link")[x(359)];if(t&&t.supports&&t[x(343)]("modulepreload"))return;for(const o of document[x(338)](x(349)))s(o);new MutationObserver(o=>{const n=x;for(const r of o)if(r[n(350)]===n(352))for(const c of r[n(339)])c.tagName==="LINK"&&c[n(341)]===n(334)&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const n=x,r={};return o[n(347)]&&(r[n(347)]=o.integrity),o.referrerPolicy&&(r[n(337)]=o.referrerPolicy),o[n(356)]===n(354)?r[n(342)]=n(340):o.crossOrigin===n(358)?r[n(342)]="omit":r.credentials=n(355),r}function s(o){const n=x;if(o.ep)return;o.ep=!0;const r=e(o);fetch(o[n(357)],r)}}();function _(i,x){const t=v();return _=function(e,s){return e=e-332,t[e]},_(i,x)}function v(){const i=["credentials","supports","1732948ruSXKh","65370WhOgLm","5eDtEcc","integrity","10508472sOSpzo",'link[rel="modulepreload"]',"type","1464678oaXsLz","childList","940CWPyqQ","use-credentials","same-origin","crossOrigin","href","anonymous","relList","21644343qFLcly","createElement","modulepreload","17259DuHpvQ","493921EkqXAu","referrerPolicy","querySelectorAll","addedNodes","include","rel"];return v=function(){return i},v()}const a=O;(function(i,x){const t=O,e=i();for(;;)try{if(-parseInt(t(231))/1+parseInt(t(318))/2+-parseInt(t(128))/3*(parseInt(t(189))/4)+-parseInt(t(323))/5*(parseInt(t(287))/6)+parseInt(t(190))/7+parseInt(t(140))/8+parseInt(t(202))/9===x)break;e.push(e.shift())}catch{e.push(e.shift())}})(k,237008);const D={width:800,height:600};let b=[],I=[];const R=18,W=46;let T=0;const V=8;let l,u=100;const y=5;let q=!1,w=[],E;const F=document[a(145)](a(300)),K=document[a(145)](a(154)),G=document[a(145)](a(274)),H=document.querySelector(a(327)),M=document[a(145)](a(277));document[a(145)](a(294));const X=document.querySelector("#gameStartBtn");document[a(145)](a(228));document.querySelector(a(285));const Y=document[a(145)](a(256)),J=document[a(145)](a(315)),Q=document[a(145)](a(222)),U=document.querySelector(a(135)),S={Worker:Y,Terrorist:J,Smuggler:Q,Victim:U},g=[{name:a(303),color:65280,scoreTimes:5,weight:20,damage:1,heal:5,action:a(220)},{name:a(295),color:255,scoreTimes:1,weight:60,damage:1,heal:0,action:a(235)},{name:a(282),color:16776960,scoreTimes:3,weight:15,damage:10,heal:0,action:a(235)},{name:a(182),color:16711680,scoreTimes:5,weight:5,damage:20,heal:0,action:a(235)}];let m={Worker:0,Terrorist:0,Smuggler:0,Victim:0},Z={Worker:0,Terrorist:0,Smuggler:0,Victim:0};class $ extends Phaser[a(259)]{constructor(){const x=a;super("scene-game"),this[x(261)],this[x(225)],this[x(216)],this[x(312)],this[x(168)],this[x(289)],this[x(208)]}[a(162)](){const x=a;this[x(161)][x(284)]("bg",x(221)+x(247)),this[x(161)][x(284)](x(126),x(221)+x(297)),this[x(161)][x(284)]("terrorist",x(221)+x(213)),this.load[x(284)](x(311),x(221)+x(253)),this[x(161)][x(284)]("smuggler",x(221)+x(207)),this[x(161)][x(284)](x(336),x(221)+x(240)),this[x(161)][x(284)](x(129),x(221)+x(172)),this[x(161)].image(x(330),x(221)+x(212)),this.load.spritesheet(x(245),x(221)+x(196),{frameWidth:492/2,frameHeight:492/2,spacing:0}),this.load[x(167)](x(312),"/protecttheborder/assets/"+x(302)),this[x(161)][x(178)](x(307),x(221)+x(230),{frameWidth:837/3,frameHeight:558/2,spacing:0}),this[x(161)][x(167)]("explosionSound",x(221)+x(288)),this[x(161)][x(178)]("drugs",x(221)+"drugs.png",{frameWidth:837/3,frameHeight:558/2,spacing:0}),this[x(161)][x(167)](x(289),x(221)+"glass-breaking.mp3"),this.load[x(167)](x(208),"/protecttheborder/assets/thankyou.mp3")}create(){const x=a;this[x(218)].pause(x(291)),this[x(163)][x(284)](0,0,"bg")[x(227)](0,0),this.grindSound=this[x(170)][x(163)](x(312)),this[x(168)]=this[x(170)][x(163)]("explosionSound"),this.drugsSound=this[x(170)][x(163)](x(289)),this[x(208)]=this[x(170)][x(163)](x(208));for(let t=0;t<W;t++){let e=t*R+(800-W*R)/2,s=200,o=this[x(163)][x(284)](e,s,x(126))[x(227)](.5,.5)[x(203)](.7);o[x(296)](10),b.push(o)}this[x(225)]=this.time[x(226)]({delay:5e3,callback:this[x(187)],callbackScope:this,loop:!0}),this[x(216)]=this[x(283)][x(226)]({delay:3e3,callback:this[x(308)],callbackScope:this,loop:!0}),l=this[x(163)].image(400,400,x(129))[x(227)](.5,.5)[x(203)](.3),E=this[x(314)][x(205)][x(260)](),this.healthBarBg=this[x(163)][x(132)]()[x(296)](100),this.healthBarBg[x(200)](4473924,1),this[x(139)][x(233)](20,20,104,14),this.healthBar=this.add[x(132)]()[x(296)](101),this[x(137)](),this.anims[x(281)]({key:"sparks",frames:this.anims[x(166)](x(245),{start:0,end:3}),frameRate:10,repeat:2,hideOnComplete:!0}),this[x(280)].create({key:x(148),frames:this[x(280)][x(166)]("explosion",{start:0,end:5}),frameRate:10,repeat:0,hideOnComplete:!0}),this.anims[x(281)]({key:x(197),frames:this[x(280)][x(166)](x(197),{start:0,end:5}),frameRate:10,repeat:0,hideOnComplete:!0}),this[x(127)]=this[x(163)].text(600,20,x(158),{fontSize:x(169),fill:x(165),fontFamily:x(147),stroke:x(286),strokeThickness:3}).setDepth(100),this[x(314)][x(324)](2),this[x(193)]={},this.input.on(x(325),t=>{const e=x;if(!isFinite(t.x)){f[e(269)][e(306)]();return}let s=this[e(234)][e(146)][e(175)],o=this[e(234)][e(301)][e(238)][e(192)],n=t.x*(o/s);this[e(193)][t.id]=n,n<o/2?this[e(298)]=!0:this[e(304)]=!0}),this[x(314)].on("pointerup",t=>{const e=x;t.x*(this[e(234)][e(301)].config[e(192)]/this[e(234)][e(146)][e(175)]),delete this[e(193)][t.id],this[e(298)]=Object.values(this[e(193)])[e(160)](s=>s<this[e(234)][e(301)].config.width/2),this[e(304)]=Object.values(this[e(193)]).some(s=>s>this.sys.game.config[e(192)]/2)}),this[x(314)].on("pointerout",t=>{const e=x;delete this[e(193)][t.id],this[e(298)]=Object.values(this[e(193)])[e(160)](s=>s<this[e(234)][e(301)].config.width/2),this[e(304)]=Object.values(this.activeTouches)[e(160)](s=>s>this[e(234)][e(301)][e(238)][e(192)]/2)})}spawnExplosion(x,t){const e=a;let s=this[e(163)][e(293)](x,t-40,"explosion")[e(227)](.5,.5);s[e(203)](.3),s[e(313)]("explode"),!this.explosionSound[e(244)]&&this.explosionSound[e(151)](),this[e(168)].play({volume:.6}),this.time.delayedCall(2e3,()=>{const o=e;let n=500,r=10,c=n/r,d=.6,p=this[o(283)][o(226)]({delay:c,repeat:r-1,callback:()=>{const h=o;d-=1/r,this[h(168)].setVolume(Math[h(133)](0,d)),d<=0&&(this[h(168)][h(151)](),p[h(268)]())}})})}[a(144)](x,t){const e=a;let s=this[e(163)][e(293)](x,t-40,e(197))[e(227)](.5,.5);s.setScale(.3),s[e(313)](e(197)),!this.explosionSound[e(244)]&&this[e(289)][e(151)](),this[e(289)].play({volume:1,seek:.5})}removeBlock(){const x=a;if(b[x(188)]>0&&T<V){let t=Phaser[x(305)][x(223)](3,b[x(188)]-3),e=b[x(141)](t,1)[0],s=this[x(163)][x(293)](e.x,e.y,x(245)).setOrigin(.5);s[x(203)](.1),s[x(313)](x(245)),this[x(312)].play({volume:1,seek:1}),this[x(283)].delayedCall(1e3,()=>{const o=x;I[o(320)](e.x),T++,s.destroy(),e[o(279)](),this.grindSound[o(151)]()})}}[a(194)](){const x=a;let t=g[x(249)]((o,n)=>o+n.weight,0),e=Phaser[x(305)][x(223)](1,t),s=0;for(let o of g)if(s+=o[x(316)],e<=s)return o;return g[0]}[a(308)](){const x=a;for(let t=0;t<20;t++){let e=this[x(194)](),s=this.add[x(284)](Phaser.Math[x(223)](10,790),0,e[x(271)][x(299)]())[x(227)](.5,.5)[x(203)](.1);s[x(143)]=Phaser[x(305)][x(292)](1,5),s[x(206)]=Phaser[x(305)][x(223)](10,790),s[x(296)](5),w[x(320)]({sprite:s,targetHole:null,passedWall:!1,movingToBottom:!1,role:e[x(271)],roleObj:e,counted:!1})}}[a(211)](){const x=a;E[x(290)][x(138)]?l.x=Math[x(133)](50,l.x-y):E.right[x(138)]&&(l.x=Math[x(237)](750,l.x+y)),this.movingLeft&&(l.x=Math[x(133)](50,l.x-y)),this[x(304)]&&(l.x=Math[x(237)](750,l.x+y)),w[x(248)](t=>{const e=x;let s=t.sprite;if(!t[e(258)]){if(s.y>=600){t[e(258)]=!0,Z[t.role]++,this.updateHealth(-t[e(266)][e(184)]),t[e(243)]==="Terrorist"&&this[e(181)](s.x,s.y),t[e(243)]==="Smuggler"&&this[e(144)](s.x,s.y),s[e(279)]();return}if(T==0)s.y<b[0].y-50&&(s.y+=s[e(143)]*.1);else if(t.passedWall){!t.movingToBottom&&(t[e(251)]=s[e(206)],t[e(134)]=600,t[e(155)]=!0);let o=t[e(251)]-s.x,n=t[e(134)]-s.y,r=Math[e(130)](o*o+n*n);r>2?(s.x+=o/r*s[e(143)]*.5,s.y+=n/r*s[e(143)]*.5):(s.x=t[e(251)],s.y=t[e(134)])}else if(I[e(188)]>0&&s.y<200){!t.targetHole&&(t[e(173)]=I[e(249)]((c,d)=>Math[e(276)](d-s.x)<Math[e(276)](c-s.x)?d:c));let o=t[e(173)]-s.x,n=200-s.y,r=Math.sqrt(o*o+n*n);r>2?(s.x+=o/r*s[e(143)]*.5,s.y+=n/r*s[e(143)]*.5):s.y+=s[e(143)]}else s.y+=s.speed,s.y>=200&&(t.passedWall=!0);Phaser[e(305)].Distance[e(223)](s.x,s.y,l.x,l.y)<40&&(t.counted=!0,m[t.role]++,this[e(127)][e(310)](e(272)+(m[e(295)]+m.Terrorist+m[e(282)]+m[e(303)])),this.updateHealth(t[e(266)][e(157)]),t.role===e(303)&&this[e(183)](s.x,s.y),s.destroy())}})}[a(183)](x,t){const e=a;this[e(208)][e(313)]({volume:1});let s=this[e(163)][e(293)](x,t,e(330))[e(203)](.5)[e(296)](200);this.tweens[e(163)]({targets:s,x:100,y:50,scale:{from:.5,to:.1},alpha:{from:1,to:.6},ease:"Cubic.easeOut",duration:1e3,onComplete:()=>s.destroy()})}[a(198)](x){const t=a;let e=u;u=Phaser[t(305)].Clamp(u+x,0,100),u!==e&&this.updateHealthBar(),u<=0&&x0()}[a(137)](){const x=a;this[x(171)].clear(),this[x(171)][x(200)](u>60?65280:u>30?16776960:16711680,1),this[x(171)][x(233)](22,22,u,10),this.healthBarBg[x(152)](2,16777215,1),this[x(139)][x(309)](20,20,104,14)}}function x0(){const i=a;let x=f[i(218)][i(263)](i(291));x&&(x[i(170)][i(264)](),w[i(248)](t=>t[i(293)][i(279)]()),w=[],x[i(239)][i(224)][i(322)](1e3,0,0,0),x[i(283)][i(191)](1e3,()=>{const t=i;f[t(218)].stop(t(291)),f[t(218)][t(326)](t(195))}))}class e0 extends Phaser[a(259)]{constructor(){const x=a;super(x(195)),this[x(168)],this[x(289)],this[x(208)]}preload(){const x=a;this[x(161)][x(284)](x(159),x(221)+"introbg.jpg"),this.load.audio("explosionSound",x(221)+"explosion.wav"),this[x(161)][x(167)](x(289),x(221)+x(204)),this[x(161)][x(167)](x(208),"/protecttheborder/assets/"+x(219))}[a(281)](){const x=a;this[x(163)][x(284)](400,300,"gameover_bg")[x(254)](800,600),this[x(163)][x(257)](400,300,800,600,0,.5),this[x(168)]=this.sound[x(163)](x(168)),this[x(289)]=this.sound[x(163)](x(289)),this[x(208)]=this[x(170)][x(163)]("thankyouSound"),this[x(163)][x(252)](400,50,x(331),{fontSize:x(136),fill:"#fff"})[x(227)](.5);let t=Object[x(153)](m);this[x(217)]=0,this.roleSprites={},this[x(125)]={};let e=120,s=60,o=550;this[x(273)]=0,this[x(333)]=this[x(163)].text(o+30,e+(t[x(188)]+1)*s,x(332),{fontSize:x(164),fill:"#ffdd44",fontWeight:"bold"})[x(227)](1,.5),t[x(248)]((n,r)=>{const c=x;let d=e+r*s;this[c(241)][n]=this[c(163)][c(293)](150,-100,n.toLowerCase())[c(203)](.5)[c(227)](.5,.5),this[c(125)][n]=this[c(163)][c(252)](220,-100,n+"s "+g[c(232)](p=>p.name===n)[c(329)]+": ",{fontSize:"24px",fill:c(165)})[c(227)](0,.5),S[n]=this[c(163)][c(252)](o+30,-100,"0 x "+g.find(p=>p[c(271)]===n)[c(150)],{fontSize:c(169),fill:c(185)})[c(227)](1,.5),this[c(241)][n][c(134)]=d,this[c(125)][n].targetY=d,S[n][c(134)]=d}),this.animateNextRole()}[a(246)](){const x=a;let t=Object[x(153)](m);if(this.index>=t.length)return;let e=t[this[x(217)]],s=this[x(241)][e][x(134)];this[x(267)].add({targets:[this.roleSprites[e],this[x(125)][e],S[e]],y:s,duration:1200,ease:"Bounce.easeOut",delay:this.index*200,onComplete:()=>{this.countUpScore(e)}})}countUpScore(x){const t=a;let e=m[x],s=g.find(r=>r.name===x)[t(150)],o=Math[t(237)](4e3,e*100)/Math[t(133)](1,e),n=0;if(e===0){this[t(265)](this.roleSprites[x].x,this[t(241)][x].y,x),this[t(283)][t(191)](500,()=>{const r=t;this[r(241)][x][r(279)](),this[r(217)]++,this.animateNextRole()});return}this[t(283)].addEvent({delay:o,repeat:e-1,callback:()=>{const r=t;n++,S[x][r(310)](n+" x"+s),this[r(273)]+=s,this[r(333)][r(310)](r(179)+this[r(273)]),n===e&&this[r(283)].delayedCall(500,()=>{const c=r;this.spawnAnimation(this[c(241)][x].x,this[c(241)][x].y,x),this[c(241)][x][c(279)](),this[c(217)]++,this[c(246)]()})}})}spawnAnimation(x,t,e){const s=a;e===s(182)&&this.spawnExplosion(x,t),e===s(282)&&this.spawnDrugs(x,t),e===s(303)&&this[s(180)](x,t)}spawnExplosion(x,t){const e=a;this[e(163)][e(293)](x,t,"explosion")[e(227)](.5,.5).setScale(.5)[e(313)]("explode"),this[e(168)][e(313)]({volume:.6}),this[e(283)].delayedCall(2e3,()=>{const o=e;let n=500,r=10,c=n/r,d=.6,p=this[o(283)][o(226)]({delay:c,repeat:r-1,callback:()=>{const h=o;d-=1/r,this[h(168)].setVolume(Math[h(133)](0,d)),d<=0&&(this.explosionSound[h(151)](),p[h(268)]())}})})}[a(144)](x,t){const e=a;let s=this[e(163)][e(293)](x,t-20,e(197))[e(227)](.5,.5);s[e(203)](.3),s[e(313)]("drugs"),this[e(289)][e(313)]({volume:1,seek:.5})}[a(180)](x,t){const e=a;let s=this[e(163)][e(293)](x,t,e(330))[e(203)](.5).setDepth(200);this[e(267)].add({targets:s,x,y:t,scale:{from:.1,to:.5},alpha:{from:1,to:.6},ease:e(319),duration:1e3,onComplete:()=>s[e(279)]()}),this[e(208)][e(313)]({volume:1})}}const t0={type:Phaser.WEBGL,height:D.height,width:D[a(192)],canvas:H,scene:[$,e0]},f=new Phaser[a(334)](t0);B()?(M[a(242)][a(210)]="none",F[a(242)][a(210)]=a(215),L(),window[a(201)](a(275),L),window.addEventListener(a(236),L)):G.style[a(210)]=a(328);X[a(201)](a(209),()=>{const i=a;M[i(242)][i(210)]=i(328),H.style.display="flex",q=!0,f[i(218)][i(278)](i(291)),f.scale[i(306)](),i0(),window.addEventListener("touchstart",j),o0(),window.addEventListener(i(176),N)}),K[a(201)](a(209),()=>{const i=a;F[i(242)][i(210)]=i(328),M[i(242)][i(210)]="flex",a0(document.documentElement)});let C=!1;const P=document.getElementById("muteButton");function s0(){const i=a;C=!C,C?(f.sound[i(177)]=!0,P[i(255)]="🔇"):(f[i(170)][i(177)]=!1,P[i(255)]="🔊")}P.addEventListener(a(209),s0);function B(){const i=a;return/Mobi|Android|iPhone|iPad|iPod/i[i(317)](navigator[i(131)])}function a0(i){const x=a;i[x(199)]?i[x(199)]():i.mozRequestFullScreen?i[x(262)]():i[x(270)]?i[x(270)]():i[x(321)]&&i[x(321)]()}function L(){const i=a;let x=document.getElementById(i(250));if(!B()){x.style[i(210)]=i(328);return}window[i(229)](i(335)).matches?(x[i(242)].display=i(215),f[i(218)][i(214)](i(291))):(x.style[i(210)]=i(328),q&&f[i(218)][i(278)](i(291)))}const z=document[a(142)](a(174));function i0(){const i=a;B()&&(z.style[i(210)]="flex")}function k(){const i=["find","fillRect","sys","caught","orientationchange","min","config","cameras","victim.png","roleSprites","style","role","isPlaying","sparks","animateNextRole","map.jpg","forEach","reduce","orientationOverlay","targetX","text","worker.png","setDisplaySize","textContent","#workerScore","rectangle","counted","Scene","createCursorKeys","gameTimer","mozRequestFullScreen","getScene","stopAll","spawnAnimation","roleObj","tweens","remove","scale","webkitRequestFullscreen","name","Encounters: ","finalScore","#orientationOverlay","resize","abs","#gameStartDiv","resume","destroy","anims","create","Smuggler","time","image","#gameEndScoreSpan","#000","2802YBxgoa","explosion.wav","drugsSound","left","scene-game","FloatBetween","sprite","#gameEndDiv","Worker","setDepth","fence.png","movingLeft","toLowerCase","#mobileIntroDiv","game","grind.mp3","Victim","movingRight","Math","refresh","explosion","spawnDot","strokeRect","setText","worker","grindSound","play","input","#terroristScore","weight","test","894146jIsDde","Cubic.easeOut","push","msRequestFullscreen","fadeOut","3265sYGEjJ","addPointer","pointerdown","start","#gameCanvas","none","action","heart","Final Score Breakdown","Final Score: 0","finalScoreText","Game","(orientation: portrait)","victim","roleTexts","block","scoreText","40773ciKWzC","bus","sqrt","userAgent","graphics","max","targetY","#victimScore","32px","updateHealthBar","isDown","healthBarBg","1223608DrdfVg","splice","getElementById","speed","spawnDrugs","querySelector","canvas","Arial","explode","key","scoreTimes","stop","lineStyle","keys","#goFullScreenBtn","movingToBottom","removeEventListener","heal","Encounters: 0","gameover_bg","some","load","preload","add","28px","#fff","generateFrameNumbers","audio","explosionSound","24px","sound","healthBar","bus.png","targetHole","tapOverlay","clientWidth","keydown","mute","spritesheet","Final Score: ","spawnHeart","spawnExplosion","Terrorist","celebrateRescue","damage","#ffd700","ArrowRight","removeBlock","length","92RTMlOJ","797818IewfQb","delayedCall","width","activeTouches","weightedRandomRole","scene-gameover","sparks.png","drugs","updateHealth","requestFullscreen","fillStyle","addEventListener","2832174csAIiO","setScale","glass-breaking.mp3","keyboard","targetBottomX","smuggler.png","thankyouSound","click","display","update","heart.png","terrorist.png","pause","flex","dotsTimer","index","scene","thankyou.mp3","rescued","/protecttheborder/assets/","#SmugglerScore","Between","main","blocksTimer","addEvent","setOrigin","#gameWinLoseSpan","matchMedia","explosion.png","174132JftiSj"];return k=function(){return i},k()}function j(){const i=a;z[i(242)][i(210)]=i(328),window[i(156)]("touchstart",j)}const A=document.getElementById("keyboardOverlay");function o0(){const i=a;!B()&&(A[i(242)][i(210)]=i(215))}function O(i,x){const t=k();return O=function(e,s){return e=e-125,t[e]},O(i,x)}function N(i){const x=a;(i[x(149)]==="ArrowLeft"||i[x(149)]===x(186))&&(A.style.display=x(328),window[x(156)](x(176),N))}
