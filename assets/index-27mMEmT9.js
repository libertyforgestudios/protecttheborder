function v(i,x){const t=_();return v=function(e,s){return e=e-497,t[e]},v(i,x)}function _(){const i=["link","modulepreload","crossOrigin","anonymous","2742619MyOJus","credentials","2586ayusnM","35656uSFfzs","childList","integrity","LINK","referrerPolicy","use-credentials","omit","30cBxOzb","4jMVuNo","18aDhvIa","354050ZBpoYw","createElement","type","same-origin","querySelectorAll","282579wCNmZP","addedNodes","3738xazRma","relList","supports","href","113432WUFvTt","143477IwDovU"];return _=function(){return i},_()}(function(i,x){const t=v,e=i();for(;;)try{if(-parseInt(t(526))/1+parseInt(t(512))/2*(-parseInt(t(519))/3)+parseInt(t(525))/4+-parseInt(t(514))/5+-parseInt(t(503))/6*(parseInt(t(521))/7)+parseInt(t(504))/8*(-parseInt(t(513))/9)+parseInt(t(511))/10*(parseInt(t(501))/11)===x)break;e.push(e.shift())}catch{e.push(e.shift())}})(_,134604),function(){const x=v,t=document[x(515)](x(497))[x(522)];if(t&&t[x(523)]&&t[x(523)](x(498)))return;for(const o of document[x(518)]('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{const n=x;for(const r of o)if(r[n(516)]===n(505))for(const c of r[n(520)])c.tagName===n(507)&&c.rel===n(498)&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(o){const n=x,r={};return o.integrity&&(r[n(506)]=o[n(506)]),o[n(508)]&&(r[n(508)]=o[n(508)]),o[n(499)]===n(509)?r[n(502)]="include":o[n(499)]===n(500)?r[n(502)]=n(510):r[n(502)]=n(517),r}function s(o){const n=x;if(o.ep)return;o.ep=!0;const r=e(o);fetch(o[n(524)],r)}}();const a=O;(function(i,x){const t=O,e=i();for(;;)try{if(-parseInt(t(170))/1*(-parseInt(t(137))/2)+-parseInt(t(283))/3*(-parseInt(t(234))/4)+parseInt(t(333))/5*(-parseInt(t(269))/6)+parseInt(t(212))/7*(parseInt(t(201))/8)+-parseInt(t(194))/9*(parseInt(t(318))/10)+-parseInt(t(255))/11*(parseInt(t(224))/12)+-parseInt(t(140))/13*(parseInt(t(280))/14)===x)break;e.push(e.shift())}catch{e.push(e.shift())}})(w,129639);const F={width:800,height:600};let g=[],I=[];const D=18,L=46;let T=0;const V=8;function w(){const i=["Worker","28px","dotsTimer","pointerdown","spawnHeart","victim","rectangle","right","spawnDot","removeBlock","splice","time","keys","update","23793PKegfC","Final Score: 0","stopAll","orientationchange","mute","updateHealth","load","some","updateHealthBar","removeEventListener","max","abs","requestFullscreen","click","6ullNni","#gameWinLoseSpan","querySelector","healthBar","push","delayedCall","stop","reduce","main","toLowerCase","spritesheet","1952776bMoUZh","Clamp","#terroristScore","4227tVbanW","targetHole","spawnAnimation","anims","tweens","WEBGL","Math","fillRect","scene","isPlaying","scale","worker","Smuggler","width","keyboard","targetBottomX","index","play","movingRight","sqrt","finalScore","drugs","activeTouches","mozRequestFullScreen","display","remove","input","matchMedia","role","getElementById","Between","roleSprites","speed","flex","explode","402100USBtGd","values","destroy","ArrowLeft","isDown","Distance","#gameEndDiv","cameras","0 x ","userAgent","msRequestFullscreen","blocksTimer","bus.png","grind.mp3","roleTexts","315285MyjPVG","animateNextRole","sparks","start","caught","config","movingLeft","generateFrameNumbers","Final Score Breakdown","setText","roleObj","height","audio","addEvent","victim.png","2DHzhYC","glass-breaking.mp3","#gameStartDiv","13JvpzdH","weight","canvas","terrorist.png","name","#mobileIntroDiv","clear","thankyouSound","setScale","spawnDrugs","Game","#ffd700","Scene","#gameCanvas","#000","heart.png","#fff","heal","Terrorist","Assets Location:","#orientationOverlay","counted","text","style","scene-gameover","touchstart","getScene","24px","documentElement","min","193171ZqMXvz","scene-game","healthBarBg","countUpScore","#gameStartBtn","scoreTimes","find","spawnExplosion","Final Score: ","sound","#SmugglerScore","fence.png","drugsSound","weightedRandomRole","movingToBottom","strokeRect","resize","targetX","refresh","Bounce.easeOut","image","explosion.png","FloatBetween","sprite","27IFggja","setDepth","gameover_bg","log","Encounters: 0","#goFullScreenBtn","tapOverlay","648hvvYhR","setVolume","sys","introbg.jpg","worker.png","create","bus","bold","explosion.wav","add","ArrowRight","2681NbEeuo","block","32px","grindSound","game","Victim","clientWidth","webkitRequestFullscreen","none","graphics","heart","length","84LekPVK","keydown","passedWall","targetY","fillStyle","textContent","preload","explosionSound","forEach","explosion","692CIoYqZ","#ffdd44","setOrigin","/assets/","resume","action","addEventListener"];return w=function(){return i},w()}let h,u=100;const y=5;let z=!1,k=[],M;const H=document[a(271)](a(145)),Y=document[a(271)](a(199)),G=document[a(271)](a(160)),W=document.querySelector(a(153)),R=document[a(271)](a(139));document[a(271)](a(324));const K=document[a(271)](a(174));document[a(271)](a(270));document[a(271)]("#gameEndScoreSpan");const U=document.querySelector("#workerScore"),Z=document[a(271)](a(282)),X=document[a(271)](a(180)),J=document[a(271)]("#victimScore"),S={Worker:U,Terrorist:Z,Smuggler:X,Victim:J},p=[{name:a(217),color:65280,scoreTimes:5,weight:20,damage:1,heal:5,action:"rescued"},{name:a(241),color:255,scoreTimes:1,weight:60,damage:1,heal:0,action:"caught"},{name:"Smuggler",color:16776960,scoreTimes:3,weight:15,damage:10,heal:0,action:a(337)},{name:a(158),color:16711680,scoreTimes:5,weight:5,damage:20,heal:0,action:"caught"}];let m={Worker:0,Terrorist:0,Smuggler:0,Victim:0},Q={Worker:0,Terrorist:0,Smuggler:0,Victim:0};class $ extends Phaser[a(152)]{constructor(){const x=a;super(x(171)),this.gameTimer,this[x(329)],this[x(243)],this[x(215)],this[x(231)],this[x(182)],this.thankyouSound}[a(230)](){const x=a;this[x(261)][x(190)]("bg","/assets/map.jpg"),this[x(261)][x(190)](x(213),x(237)+x(181)),this[x(261)][x(190)]("terrorist","/assets/"+x(143)),this[x(261)].image(x(294),x(237)+x(205)),this[x(261)].image("smuggler",x(237)+"smuggler.png"),this[x(261)][x(190)](x(246),x(237)+x(136)),this[x(261)][x(190)]("bus",x(237)+x(330)),this.load.image(x(222),x(237)+x(155)),console[x(197)](x(159),x(237)),this[x(261)][x(279)]("sparks",x(237)+"sparks.png",{frameWidth:492/2,frameHeight:492/2,spacing:0}),this[x(261)][x(134)](x(215),x(237)+x(331)),this[x(261)][x(279)](x(233),x(237)+x(191),{frameWidth:837/3,frameHeight:558/2,spacing:0}),this[x(261)][x(134)](x(231),"/assets/"+x(209)),this[x(261)].spritesheet(x(304),x(237)+"drugs.png",{frameWidth:837/3,frameHeight:558/2,spacing:0}),this[x(261)][x(134)](x(182),"/assets/glass-breaking.mp3"),this.load[x(134)](x(147),"/assets/thankyou.mp3")}create(){const x=a;this[x(291)].pause(x(171)),this.add[x(190)](0,0,"bg")[x(236)](0,0),this[x(215)]=this.sound[x(210)](x(215)),this[x(231)]=this[x(179)][x(210)](x(231)),this[x(182)]=this[x(179)][x(210)](x(182)),this[x(147)]=this[x(179)][x(210)]("thankyouSound");for(let t=0;t<L;t++){let e=t*D+(800-L*D)/2,s=200,o=this.add[x(190)](e,s,x(213))[x(236)](.5,.5)[x(148)](.7);o[x(195)](10),g[x(273)](o)}this[x(329)]=this[x(252)].addEvent({delay:5e3,callback:this[x(250)],callbackScope:this,loop:!0}),this[x(243)]=this[x(252)][x(135)]({delay:3e3,callback:this[x(249)],callbackScope:this,loop:!0}),h=this[x(210)][x(190)](400,400,x(207))[x(236)](.5,.5).setScale(.3),M=this.input[x(297)].createCursorKeys(),this.healthBarBg=this.add[x(221)]().setDepth(100),this[x(172)].fillStyle(4473924,1),this[x(172)][x(290)](20,20,104,14),this[x(272)]=this[x(210)][x(221)]()[x(195)](101),this.updateHealthBar(),this[x(286)].create({key:x(335),frames:this[x(286)][x(340)](x(335),{start:0,end:3}),frameRate:10,repeat:2,hideOnComplete:!0}),this[x(286)][x(206)]({key:x(317),frames:this[x(286)][x(340)](x(233),{start:0,end:5}),frameRate:10,repeat:0,hideOnComplete:!0}),this[x(286)][x(206)]({key:x(304),frames:this[x(286)][x(340)](x(304),{start:0,end:5}),frameRate:10,repeat:0,hideOnComplete:!0}),this.scoreText=this[x(210)][x(162)](600,20,x(198),{fontSize:x(167),fill:x(156),fontFamily:"Arial",stroke:x(154),strokeThickness:3})[x(195)](100),this[x(309)].addPointer(2),this[x(305)]={},this[x(309)].on(x(244),t=>{const e=x;if(!isFinite(t.x)){f[e(293)][e(188)]();return}let s=this[e(203)].canvas[e(218)],o=this.sys[e(216)][e(338)][e(296)],n=t.x*(o/s);this[e(305)][t.id]=n,n<o/2?this.movingLeft=!0:this.movingRight=!0}),this[x(309)].on("pointerup",t=>{const e=x;t.x*(this[e(203)][e(216)][e(338)][e(296)]/this[e(203)][e(142)][e(218)]),delete this[e(305)][t.id],this[e(339)]=Object[e(319)](this[e(305)])[e(262)](s=>s<this.sys[e(216)][e(338)][e(296)]/2),this[e(301)]=Object[e(319)](this.activeTouches)[e(262)](s=>s>this[e(203)][e(216)][e(338)].width/2)}),this.input.on("pointerout",t=>{const e=x;delete this[e(305)][t.id],this[e(339)]=Object[e(319)](this.activeTouches)[e(262)](s=>s<this[e(203)].game[e(338)][e(296)]/2),this[e(301)]=Object[e(319)](this[e(305)]).some(s=>s>this.sys[e(216)][e(338)].width/2)})}[a(177)](x,t){const e=a;let s=this[e(210)][e(193)](x,t-40,e(233)).setOrigin(.5,.5);s.setScale(.3),s.play(e(317)),!this[e(231)].isPlaying&&this.explosionSound.stop(),this[e(231)][e(300)]({volume:.6}),this.time.delayedCall(2e3,()=>{const o=e;let n=500,r=10,c=n/r,d=.6,b=this[o(252)][o(135)]({delay:c,repeat:r-1,callback:()=>{const l=o;d-=1/r,this[l(231)][l(202)](Math[l(265)](0,d)),d<=0&&(this.explosionSound.stop(),b[l(308)]())}})})}[a(149)](x,t){const e=a;let s=this.add.sprite(x,t-40,"drugs")[e(236)](.5,.5);s.setScale(.3),s[e(300)](e(304)),!this[e(231)][e(292)]&&this[e(182)].stop(),this.drugsSound[e(300)]({volume:1,seek:.5})}removeBlock(){const x=a;if(g.length>0&&T<V){let t=Phaser[x(289)][x(313)](3,g.length-3),e=g[x(251)](t,1)[0],s=this[x(210)][x(193)](e.x,e.y,x(335)).setOrigin(.5);s[x(148)](.1),s[x(300)]("sparks"),this[x(215)][x(300)]({volume:1,seek:1}),this[x(252)][x(274)](1e3,()=>{const o=x;I[o(273)](e.x),T++,s[o(320)](),e[o(320)](),this.grindSound[o(275)]()})}}[a(183)](){const x=a;let t=p.reduce((o,n)=>o+n[x(141)],0),e=Phaser[x(289)][x(313)](1,t),s=0;for(let o of p)if(s+=o[x(141)],e<=s)return o;return p[0]}spawnDot(){const x=a;for(let t=0;t<20;t++){let e=this[x(183)](),s=this[x(210)][x(190)](Phaser[x(289)][x(313)](10,790),0,e.name[x(278)]()).setOrigin(.5,.5)[x(148)](.1);s[x(315)]=Phaser[x(289)][x(192)](1,5),s[x(298)]=Phaser.Math[x(313)](10,790),s[x(195)](5),k[x(273)]({sprite:s,targetHole:null,passedWall:!1,movingToBottom:!1,role:e.name,roleObj:e,counted:!1})}}[a(254)](){const x=a;M.left[x(322)]?h.x=Math[x(265)](50,h.x-y):M[x(248)][x(322)]&&(h.x=Math[x(169)](750,h.x+y)),this[x(339)]&&(h.x=Math.max(50,h.x-y)),this.movingRight&&(h.x=Math.min(750,h.x+y)),k[x(232)](t=>{const e=x;let s=t.sprite;if(!t[e(161)]){if(s.y>=600){t.counted=!0,Q[t[e(311)]]++,this[e(260)](-t[e(132)].damage),t[e(311)]===e(158)&&this[e(177)](s.x,s.y),t[e(311)]===e(295)&&this[e(149)](s.x,s.y),s[e(320)]();return}if(T==0)s.y<g[0].y-50&&(s.y+=s.speed*.1);else if(t[e(226)]){!t[e(184)]&&(t[e(187)]=s.targetBottomX,t[e(227)]=600,t[e(184)]=!0);let o=t[e(187)]-s.x,n=t.targetY-s.y,r=Math.sqrt(o*o+n*n);r>2?(s.x+=o/r*s.speed*.5,s.y+=n/r*s[e(315)]*.5):(s.x=t[e(187)],s.y=t[e(227)])}else if(I[e(223)]>0&&s.y<200){!t[e(284)]&&(t[e(284)]=I[e(276)]((c,d)=>Math[e(266)](d-s.x)<Math[e(266)](c-s.x)?d:c));let o=t.targetHole-s.x,n=200-s.y,r=Math[e(302)](o*o+n*n);r>2?(s.x+=o/r*s[e(315)]*.5,s.y+=n/r*s[e(315)]*.5):s.y+=s[e(315)]}else s.y+=s[e(315)],s.y>=200&&(t[e(226)]=!0);Phaser[e(289)][e(323)][e(313)](s.x,s.y,h.x,h.y)<40&&(t[e(161)]=!0,m[t[e(311)]]++,this.scoreText[e(131)]("Encounters: "+(m[e(241)]+m[e(158)]+m[e(295)]+m[e(217)])),this[e(260)](t[e(132)][e(157)]),t[e(311)]===e(217)&&this.celebrateRescue(s.x,s.y),s[e(320)]())}})}celebrateRescue(x,t){const e=a;this[e(147)][e(300)]({volume:1});let s=this[e(210)].sprite(x,t,"heart")[e(148)](.5)[e(195)](200);this[e(287)][e(210)]({targets:s,x:100,y:50,scale:{from:.5,to:.1},alpha:{from:1,to:.6},ease:"Cubic.easeOut",duration:1e3,onComplete:()=>s[e(320)]()})}[a(260)](x){const t=a;let e=u;u=Phaser[t(289)][t(281)](u+x,0,100),u!==e&&this.updateHealthBar(),u<=0&&x0()}[a(263)](){const x=a;this.healthBar[x(146)](),this[x(272)][x(228)](u>60?65280:u>30?16776960:16711680,1),this[x(272)].fillRect(22,22,u,10),this.healthBarBg.lineStyle(2,16777215,1),this.healthBarBg[x(185)](20,20,104,14)}}function O(i,x){const t=w();return O=function(e,s){return e=e-131,t[e]},O(i,x)}function x0(){const i=a;let x=f[i(291)][i(166)]("scene-game");x&&(x.sound[i(257)](),k[i(232)](t=>t[i(193)][i(320)]()),k=[],x[i(325)][i(277)].fadeOut(1e3,0,0,0),x[i(252)][i(274)](1e3,()=>{const t=i;f[t(291)][t(275)](t(171)),f[t(291)][t(336)](t(164))}))}class e0 extends Phaser[a(152)]{constructor(){const x=a;super("scene-gameover"),this[x(231)],this[x(182)],this[x(147)]}preload(){const x=a;this[x(261)].image(x(196),x(237)+x(204)),this.load.audio(x(231),"/assets/explosion.wav"),this[x(261)][x(134)](x(182),x(237)+x(138)),this[x(261)][x(134)](x(147),x(237)+"thankyou.mp3")}create(){const x=a;this[x(210)][x(190)](400,300,"gameover_bg").setDisplaySize(800,600),this[x(210)][x(247)](400,300,800,600,0,.5),this[x(231)]=this[x(179)][x(210)](x(231)),this.drugsSound=this[x(179)].add("drugsSound"),this[x(147)]=this[x(179)][x(210)]("thankyouSound"),this.add[x(162)](400,50,x(341),{fontSize:x(214),fill:x(156)}).setOrigin(.5);let t=Object[x(253)](m);this[x(299)]=0,this[x(314)]={},this.roleTexts={};let e=120,s=60,o=550;this[x(303)]=0,this.finalScoreText=this[x(210)][x(162)](o+30,e+(t[x(223)]+1)*s,x(256),{fontSize:x(242),fill:x(235),fontWeight:x(208)})[x(236)](1,.5),t[x(232)]((n,r)=>{const c=x;let d=e+r*s;this[c(314)][n]=this[c(210)][c(193)](150,-100,n[c(278)]())[c(148)](.5)[c(236)](.5,.5),this.roleTexts[n]=this.add[c(162)](220,-100,n+"s "+p[c(176)](b=>b[c(144)]===n)[c(239)]+": ",{fontSize:c(167),fill:"#fff"})[c(236)](0,.5),S[n]=this.add[c(162)](o+30,-100,c(326)+p.find(b=>b.name===n)[c(175)],{fontSize:c(167),fill:c(151)}).setOrigin(1,.5),this.roleSprites[n].targetY=d,this.roleTexts[n][c(227)]=d,S[n][c(227)]=d}),this[x(334)]()}[a(334)](){const x=a;let t=Object[x(253)](m);if(this.index>=t[x(223)])return;let e=t[this[x(299)]],s=this[x(314)][e][x(227)];this[x(287)][x(210)]({targets:[this[x(314)][e],this[x(332)][e],S[e]],y:s,duration:1200,ease:x(189),delay:this[x(299)]*200,onComplete:()=>{this.countUpScore(e)}})}[a(173)](x){const t=a;let e=m[x],s=p[t(176)](r=>r[t(144)]===x)[t(175)],o=Math[t(169)](4e3,e*100)/Math[t(265)](1,e),n=0;if(e===0){this[t(285)](this.roleSprites[x].x,this.roleSprites[x].y,x),this.time[t(274)](500,()=>{const r=t;this[r(314)][x].destroy(),this[r(299)]++,this.animateNextRole()});return}this.time[t(135)]({delay:o,repeat:e-1,callback:()=>{const r=t;n++,S[x].setText(n+" x"+s),this[r(303)]+=s,this.finalScoreText[r(131)](r(178)+this[r(303)]),n===e&&this[r(252)].delayedCall(500,()=>{const c=r;this[c(285)](this.roleSprites[x].x,this[c(314)][x].y,x),this[c(314)][x].destroy(),this[c(299)]++,this[c(334)]()})}})}spawnAnimation(x,t,e){const s=a;e===s(158)&&this[s(177)](x,t),e===s(295)&&this.spawnDrugs(x,t),e===s(217)&&this[s(245)](x,t)}spawnExplosion(x,t){const e=a;this[e(210)][e(193)](x,t,e(233))[e(236)](.5,.5)[e(148)](.5).play(e(317)),this[e(231)][e(300)]({volume:.6}),this[e(252)][e(274)](2e3,()=>{const o=e;let n=500,r=10,c=n/r,d=.6,b=this.time[o(135)]({delay:c,repeat:r-1,callback:()=>{const l=o;d-=1/r,this[l(231)][l(202)](Math[l(265)](0,d)),d<=0&&(this[l(231)][l(275)](),b.remove())}})})}[a(149)](x,t){const e=a;let s=this[e(210)][e(193)](x,t-20,e(304)).setOrigin(.5,.5);s[e(148)](.3),s[e(300)]("drugs"),this.drugsSound[e(300)]({volume:1,seek:.5})}spawnHeart(x,t){const e=a;let s=this[e(210)][e(193)](x,t,e(222))[e(148)](.5)[e(195)](200);this[e(287)][e(210)]({targets:s,x,y:t,scale:{from:.1,to:.5},alpha:{from:1,to:.6},ease:"Cubic.easeOut",duration:1e3,onComplete:()=>s[e(320)]()}),this[e(147)][e(300)]({volume:1})}}const t0={type:Phaser[a(288)],height:F[a(133)],width:F[a(296)],canvas:W,scene:[$,e0]},f=new Phaser[a(150)](t0);B()?(R.style[a(307)]=a(220),H[a(163)][a(307)]=a(316),P(),window[a(240)](a(186),P),window[a(240)](a(258),P)):G.style[a(307)]=a(220);K.addEventListener(a(268),()=>{const i=a;R[i(163)][i(307)]=i(220),W[i(163)][i(307)]=i(316),z=!0,f[i(291)].resume(i(171)),f.scale[i(188)](),a0(),window.addEventListener("touchstart",j),n0(),window[i(240)](i(225),N)}),Y.addEventListener(a(268),()=>{const i=a;H.style[i(307)]=i(220),R[i(163)][i(307)]=i(316),i0(document[i(168)])});let C=!1;const E=document[a(312)]("muteButton");function s0(){const i=a;C=!C,C?(f.sound[i(259)]=!0,E[i(229)]="🔇"):(f[i(179)][i(259)]=!1,E[i(229)]="🔊")}E[a(240)]("click",s0);function B(){const i=a;return/Mobi|Android|iPhone|iPad|iPod/i.test(navigator[i(327)])}function i0(i){const x=a;i[x(267)]?i.requestFullscreen():i[x(306)]?i[x(306)]():i[x(219)]?i[x(219)]():i[x(328)]&&i.msRequestFullscreen()}function P(){const i=a;let x=document.getElementById("orientationOverlay");if(!B()){x[i(163)][i(307)]=i(220);return}window[i(310)]("(orientation: portrait)").matches?(x[i(163)].display="flex",f[i(291)].pause(i(171))):(x[i(163)][i(307)]=i(220),z&&f[i(291)][i(238)]("scene-game"))}const q=document[a(312)](a(200));function a0(){const i=a;B()&&(q[i(163)][i(307)]=i(316))}function j(){const i=a;q[i(163)][i(307)]="none",window[i(264)](i(165),j)}const A=document.getElementById("keyboardOverlay");function n0(){const i=a;!B()&&(A[i(163)][i(307)]=i(316))}function N(i){const x=a;(i.key===x(321)||i.key===x(211))&&(A[x(163)][x(307)]=x(220),window[x(264)](x(225),N))}
