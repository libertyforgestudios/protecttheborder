(function(i,x){const t=_,e=i();for(;;)try{if(parseInt(t(230))/1+parseInt(t(220))/2+-parseInt(t(236))/3+parseInt(t(240))/4+-parseInt(t(223))/5*(-parseInt(t(224))/6)+-parseInt(t(228))/7*(parseInt(t(234))/8)+-parseInt(t(237))/9*(parseInt(t(222))/10)===x)break;e.push(e.shift())}catch{e.push(e.shift())}})(w,433878),function(){const x=_,t=document.createElement("link").relList;if(t&&t.supports&&t[x(231)](x(244)))return;for(const n of document.querySelectorAll(x(239)))s(n);new MutationObserver(n=>{const o=x;for(const c of n)if(c[o(226)]===o(218))for(const r of c.addedNodes)r[o(233)]===o(217)&&r[o(243)]===o(244)&&s(r)})[x(229)](document,{childList:!0,subtree:!0});function e(n){const o=x,c={};return n.integrity&&(c.integrity=n[o(242)]),n[o(221)]&&(c[o(221)]=n[o(221)]),n[o(225)]===o(241)?c[o(219)]=o(238):n[o(225)]===o(227)?c.credentials=o(232):c[o(219)]=o(216),c}function s(n){const o=x;if(n.ep)return;n.ep=!0;const c=e(n);fetch(n[o(235)],c)}}();function _(i,x){const t=w();return _=function(e,s){return e=e-216,t[e]},_(i,x)}function w(){const i=["childList","credentials","1191844uwuYVa","referrerPolicy","4641590UZlVcz","2060NlifZu","8178bpNFEX","crossOrigin","type","anonymous","82579JqPRKY","observe","512417dSpbNb","supports","omit","tagName","272gEbOMB","href","207723bPDEUD","27HpCdIj","include",'link[rel="modulepreload"]',"2507196UGwedq","use-credentials","integrity","rel","modulepreload","same-origin","LINK"];return w=function(){return i},w()}const a=g;(function(i,x){const t=g,e=i();for(;;)try{if(-parseInt(t(208))/1*(-parseInt(t(244))/2)+-parseInt(t(174))/3+-parseInt(t(172))/4+-parseInt(t(326))/5*(-parseInt(t(343))/6)+parseInt(t(302))/7+parseInt(t(337))/8+-parseInt(t(275))/9===x)break;e.push(e.shift())}catch{e.push(e.shift())}})(k,762397);const D={width:800,height:600};let b=[],T=[];const F=18,W=46;let I=0;const V=8;let h,u=100;const y=5;let H=!1,v=[],P;const L=document[a(336)](a(254)),G=document[a(336)](a(220)),K=document[a(336)]("#orientationOverlay"),q=document[a(336)]("#gameCanvas"),M=document[a(336)]("#gameStartDiv");document[a(336)]("#gameEndDiv");const U=document[a(336)]("#gameStartBtn");document[a(336)](a(231));document[a(336)](a(157));const Y=document.querySelector(a(269)),X=document[a(336)](a(149)),J=document[a(336)](a(306)),Q=document[a(336)](a(348)),S={Worker:Y,Terrorist:X,Smuggler:J,Victim:Q},p=[{name:a(243),color:65280,scoreTimes:5,weight:20,damage:1,heal:5,action:a(312)},{name:a(293),color:255,scoreTimes:1,weight:60,damage:1,heal:0,action:a(298)},{name:"Smuggler",color:16776960,scoreTimes:3,weight:15,damage:10,heal:0,action:"caught"},{name:a(261),color:16711680,scoreTimes:5,weight:5,damage:20,heal:0,action:a(298)}];let m={Worker:0,Terrorist:0,Smuggler:0,Victim:0},Z={Worker:0,Terrorist:0,Smuggler:0,Victim:0};class $ extends Phaser.Scene{constructor(){const x=a;super(x(304)),this[x(213)],this[x(229)],this[x(192)],this[x(349)],this[x(329)],this[x(289)],this[x(169)]}[a(280)](){const x=a;this[x(184)][x(264)]("bg",x(242)),this[x(184)][x(264)](x(314),"/assets/fence.png"),this[x(184)][x(264)](x(315),"/assets/terrorist.png"),this.load[x(264)]("worker",x(278)),this.load.image(x(222),"/assets/smuggler.png"),this.load[x(264)]("victim","/assets/victim.png"),this[x(184)][x(264)](x(316),x(266)),this[x(184)].image(x(290),x(187)),this[x(184)][x(310)](x(292),x(250),{frameWidth:492/2,frameHeight:492/2,spacing:0}),this[x(184)][x(301)]("grindSound",x(240)),this.load[x(310)]("explosion","/assets/explosion.png",{frameWidth:837/3,frameHeight:558/2,spacing:0}),this.load[x(301)]("explosionSound",x(156)),this[x(184)][x(310)](x(216),x(299),{frameWidth:837/3,frameHeight:558/2,spacing:0}),this.load[x(301)]("drugsSound",x(191)),this[x(184)][x(301)]("thankyouSound",x(159))}[a(284)](){const x=a;this[x(328)][x(297)](x(304)),this.add[x(264)](0,0,"bg").setOrigin(0,0),this[x(349)]=this[x(325)][x(331)](x(349)),this[x(329)]=this[x(325)][x(331)](x(329)),this.drugsSound=this[x(325)][x(331)](x(289)),this[x(169)]=this.sound[x(331)](x(169));for(let t=0;t<W;t++){let e=t*F+(800-W*F)/2,s=200,n=this[x(331)][x(264)](e,s,x(314)).setOrigin(.5,.5)[x(221)](.7);n.setDepth(10),b.push(n)}this.blocksTimer=this[x(190)][x(175)]({delay:5e3,callback:this[x(313)],callbackScope:this,loop:!0}),this.dotsTimer=this[x(190)].addEvent({delay:3e3,callback:this[x(335)],callbackScope:this,loop:!0}),h=this[x(331)][x(264)](400,400,x(316))[x(164)](.5,.5).setScale(.3),P=this.input[x(279)][x(246)](),this.healthBarBg=this[x(331)][x(354)]().setDepth(100),this[x(327)][x(274)](4473924,1),this[x(327)].fillRect(20,20,104,14),this.healthBar=this[x(331)][x(354)]()[x(295)](101),this[x(206)](),this[x(248)].create({key:x(292),frames:this[x(248)][x(198)]("sparks",{start:0,end:3}),frameRate:10,repeat:2,hideOnComplete:!0}),this[x(248)][x(284)]({key:"explode",frames:this[x(248)][x(198)](x(217),{start:0,end:5}),frameRate:10,repeat:0,hideOnComplete:!0}),this.anims.create({key:x(216),frames:this[x(248)][x(198)](x(216),{start:0,end:5}),frameRate:10,repeat:0,hideOnComplete:!0}),this[x(319)]=this[x(331)].text(600,20,x(339),{fontSize:x(197),fill:x(200),fontFamily:x(162),stroke:x(287),strokeThickness:3})[x(295)](100),this[x(170)].addPointer(2),this[x(258)]={},this.input.on("pointerdown",t=>{const e=x;if(!isFinite(t.x)){f[e(267)][e(223)]();return}let s=this.sys[e(177)][e(252)],n=this[e(226)].game[e(202)][e(225)],o=t.x*(n/s);this[e(258)][t.id]=o,o<n/2?this[e(245)]=!0:this[e(277)]=!0}),this[x(170)].on(x(165),t=>{const e=x;t.x*(this.sys[e(286)].config[e(225)]/this[e(226)].canvas.clientWidth),delete this.activeTouches[t.id],this[e(245)]=Object[e(253)](this.activeTouches)[e(255)](s=>s<this.sys[e(286)][e(202)][e(225)]/2),this[e(277)]=Object[e(253)](this.activeTouches)[e(255)](s=>s>this[e(226)].game[e(202)].width/2)}),this[x(170)].on(x(257),t=>{const e=x;delete this.activeTouches[t.id],this[e(245)]=Object[e(253)](this[e(258)]).some(s=>s<this[e(226)][e(286)][e(202)].width/2),this[e(277)]=Object[e(253)](this[e(258)])[e(255)](s=>s>this.sys.game[e(202)][e(225)]/2)})}[a(237)](x,t){const e=a;let s=this[e(331)][e(233)](x,t-40,e(217))[e(164)](.5,.5);s.setScale(.3),s[e(294)](e(207)),!this[e(329)][e(199)]&&this[e(329)].stop(),this[e(329)][e(294)]({volume:.6}),this.time[e(201)](2e3,()=>{let n=500,o=10,c=n/o,r=.6,d=this.time.addEvent({delay:c,repeat:o-1,callback:()=>{const l=g;r-=1/o,this[l(329)][l(352)](Math.max(0,r)),r<=0&&(this[l(329)][l(323)](),d[l(166)]())}})})}[a(307)](x,t){const e=a;let s=this.add.sprite(x,t-40,e(216))[e(164)](.5,.5);s[e(221)](.3),s[e(294)](e(216)),!this[e(329)].isPlaying&&this[e(289)][e(323)](),this.drugsSound.play({volume:1,seek:.5})}[a(313)](){const x=a;if(b[x(263)]>0&&I<V){let t=Phaser[x(281)][x(204)](3,b.length-3),e=b[x(160)](t,1)[0],s=this[x(331)][x(233)](e.x,e.y,"sparks").setOrigin(.5);s.setScale(.1),s[x(294)]("sparks"),this.grindSound[x(294)]({volume:1,seek:1}),this[x(190)][x(201)](1e3,()=>{const n=x;T.push(e.x),I++,s.destroy(),e.destroy(),this.grindSound[n(323)]()})}}weightedRandomRole(){const x=a;let t=p[x(355)]((n,o)=>n+o[x(247)],0),e=Phaser[x(281)][x(204)](1,t),s=0;for(let n of p)if(s+=n[x(247)],e<=s)return n;return p[0]}[a(335)](){const x=a;for(let t=0;t<20;t++){let e=this[x(171)](),s=this.add.image(Phaser[x(281)].Between(10,790),0,e[x(276)][x(256)]())[x(164)](.5,.5)[x(221)](.1);s[x(188)]=Phaser[x(281)][x(186)](1,5),s[x(338)]=Phaser.Math[x(204)](10,790),s.setDepth(5),v[x(173)]({sprite:s,targetHole:null,passedWall:!1,movingToBottom:!1,role:e[x(276)],roleObj:e,counted:!1})}}update(){const x=a;P[x(214)][x(285)]?h.x=Math[x(303)](50,h.x-y):P[x(260)].isDown&&(h.x=Math[x(317)](750,h.x+y)),this.movingLeft&&(h.x=Math[x(303)](50,h.x-y)),this[x(277)]&&(h.x=Math.min(750,h.x+y)),v[x(330)](t=>{const e=x;let s=t[e(233)];if(!t[e(332)]){if(s.y>=600){t.counted=!0,Z[t[e(232)]]++,this[e(241)](-t[e(291)][e(311)]),t[e(232)]===e(261)&&this[e(237)](s.x,s.y),t[e(232)]===e(308)&&this[e(307)](s.x,s.y),s[e(227)]();return}if(I==0)s.y<b[0].y-50&&(s.y+=s[e(188)]*.1);else if(t.passedWall){!t[e(168)]&&(t[e(342)]=s[e(338)],t[e(209)]=600,t[e(168)]=!0);let n=t[e(342)]-s.x,o=t[e(209)]-s.y,c=Math[e(268)](n*n+o*o);c>2?(s.x+=n/c*s[e(188)]*.5,s.y+=o/c*s[e(188)]*.5):(s.x=t[e(342)],s.y=t[e(209)])}else if(T[e(263)]>0&&s.y<200){!t[e(239)]&&(t.targetHole=T[e(355)]((r,d)=>Math[e(236)](d-s.x)<Math[e(236)](r-s.x)?d:r));let n=t[e(239)]-s.x,o=200-s.y,c=Math[e(268)](n*n+o*o);c>2?(s.x+=n/c*s[e(188)]*.5,s.y+=o/c*s[e(188)]*.5):s.y+=s[e(188)]}else s.y+=s[e(188)],s.y>=200&&(t[e(167)]=!0);Phaser[e(281)][e(341)].Between(s.x,s.y,h.x,h.y)<40&&(t[e(332)]=!0,m[t[e(232)]]++,this[e(319)][e(271)](e(210)+(m[e(293)]+m.Terrorist+m[e(308)]+m[e(243)])),this.updateHealth(t[e(291)][e(161)]),t.role===e(243)&&this[e(350)](s.x,s.y),s[e(227)]())}})}[a(350)](x,t){const e=a;this[e(169)][e(294)]({volume:1});let s=this[e(331)][e(233)](x,t,e(290)).setScale(.5)[e(295)](200);this[e(179)][e(331)]({targets:s,x:100,y:50,scale:{from:.5,to:.1},alpha:{from:1,to:.6},ease:e(193),duration:1e3,onComplete:()=>s[e(227)]()})}updateHealth(x){const t=a;let e=u;u=Phaser[t(281)][t(235)](u+x,0,100),u!==e&&this.updateHealthBar(),u<=0&&x0()}[a(206)](){const x=a;this[x(270)].clear(),this[x(270)][x(274)](u>60?65280:u>30?16776960:16711680,1),this[x(270)][x(273)](22,22,u,10),this[x(327)][x(158)](2,16777215,1),this.healthBarBg.strokeRect(20,20,104,14)}}function x0(){const i=a;let x=f.scene[i(318)](i(304));x&&(x[i(325)].stopAll(),v[i(330)](t=>t[i(233)][i(227)]()),v=[],x.cameras.main.fadeOut(1e3,0,0,0),x[i(190)][i(201)](1e3,()=>{const t=i;f[t(328)][t(323)](t(304)),f[t(328)][t(283)](t(176))}))}class e0 extends Phaser[a(181)]{constructor(){const x=a;super(x(176)),this[x(329)],this[x(289)],this[x(169)]}preload(){const x=a;this.load[x(264)](x(234),"/assets/introbg.jpg"),this[x(184)][x(301)](x(329),x(156)),this[x(184)][x(301)](x(289),x(191)),this.load.audio(x(169),"/assets/thankyou.mp3")}create(){const x=a;this[x(331)][x(264)](400,300,x(234))[x(322)](800,600),this.add[x(230)](400,300,800,600,0,.5),this[x(329)]=this.sound[x(331)]("explosionSound"),this[x(289)]=this[x(325)][x(331)](x(289)),this[x(169)]=this[x(325)].add("thankyouSound"),this.add[x(180)](400,50,x(215),{fontSize:x(300),fill:x(200)})[x(164)](.5);let t=Object[x(259)](m);this[x(249)]=0,this[x(340)]={},this[x(262)]={};let e=120,s=60,n=550;this.finalScore=0,this[x(272)]=this.add[x(180)](n+30,e+(t[x(263)]+1)*s,x(321),{fontSize:"28px",fill:x(238),fontWeight:x(351)})[x(164)](1,.5),t[x(330)]((o,c)=>{const r=x;let d=e+c*s;this[r(340)][o]=this[r(331)][r(233)](150,-100,o[r(256)]())[r(221)](.5)[r(164)](.5,.5),this[r(262)][o]=this[r(331)][r(180)](220,-100,o+"s "+p[r(196)](l=>l[r(276)]===o).action+": ",{fontSize:r(197),fill:r(200)})[r(164)](0,.5),S[o]=this[r(331)].text(n+30,-100,r(195)+p[r(196)](l=>l[r(276)]===o)[r(346)],{fontSize:r(197),fill:"#ffd700"}).setOrigin(1,.5),this[r(340)][o][r(209)]=d,this[r(262)][o][r(209)]=d,S[o][r(209)]=d}),this.animateNextRole()}[a(282)](){const x=a;let t=Object.keys(m);if(this.index>=t[x(263)])return;let e=t[this[x(249)]],s=this[x(340)][e].targetY;this[x(179)][x(331)]({targets:[this.roleSprites[e],this[x(262)][e],S[e]],y:s,duration:1200,ease:x(211),delay:this.index*200,onComplete:()=>{this[x(218)](e)}})}[a(218)](x){const t=a;let e=m[x],s=p[t(196)](c=>c[t(276)]===x)[t(346)],n=Math.min(4e3,e*100)/Math[t(303)](1,e),o=0;if(e===0){this.spawnAnimation(this.roleSprites[x].x,this[t(340)][x].y,x),this[t(190)][t(201)](500,()=>{const c=t;this[c(340)][x].destroy(),this[c(249)]++,this.animateNextRole()});return}this[t(190)][t(175)]({delay:n,repeat:e-1,callback:()=>{const c=t;o++,S[x][c(271)](o+" x"+s),this[c(265)]+=s,this.finalScoreText[c(271)](c(185)+this[c(265)]),o===e&&this[c(190)][c(201)](500,()=>{const r=c;this.spawnAnimation(this[r(340)][x].x,this[r(340)][x].y,x),this[r(340)][x][r(227)](),this.index++,this[r(282)]()})}})}spawnAnimation(x,t,e){const s=a;e===s(261)&&this[s(237)](x,t),e==="Smuggler"&&this[s(307)](x,t),e==="Victim"&&this[s(224)](x,t)}spawnExplosion(x,t){const e=a;this.add[e(233)](x,t,e(217))[e(164)](.5,.5)[e(221)](.5)[e(294)](e(207)),this[e(329)][e(294)]({volume:.6}),this[e(190)][e(201)](2e3,()=>{const n=e;let o=500,c=10,r=o/c,d=.6,l=this[n(190)].addEvent({delay:r,repeat:c-1,callback:()=>{const B=n;d-=1/c,this[B(329)][B(352)](Math[B(303)](0,d)),d<=0&&(this.explosionSound.stop(),l.remove())}})})}[a(307)](x,t){const e=a;let s=this[e(331)].sprite(x,t-20,e(216))[e(164)](.5,.5);s.setScale(.3),s[e(294)]("drugs"),this[e(289)][e(294)]({volume:1,seek:.5})}[a(224)](x,t){const e=a;let s=this[e(331)].sprite(x,t,e(290))[e(221)](.5)[e(295)](200);this.tweens.add({targets:s,x,y:t,scale:{from:.1,to:.5},alpha:{from:1,to:.6},ease:e(193),duration:1e3,onComplete:()=>s.destroy()}),this[e(169)][e(294)]({volume:1})}}const t0={type:Phaser[a(353)],height:D[a(288)],width:D[a(225)],canvas:q,scene:[$,e0]},f=new Phaser.Game(t0);O()?(M.style[a(151)]=a(251),L.style[a(151)]="flex",R(),window[a(152)]("resize",R),window[a(152)]("orientationchange",R)):K[a(154)].display=a(251);function k(){const i=["#terroristScore","matches","display","addEventListener","userAgent","style","textContent","/assets/explosion.wav","#gameEndScoreSpan","lineStyle","/assets/thankyou.mp3","splice","heal","Arial","mute","setOrigin","pointerup","remove","passedWall","movingToBottom","thankyouSound","input","weightedRandomRole","4011660JPdWre","push","175851aAiDnu","addEvent","scene-gameover","canvas","keyboardOverlay","tweens","text","Scene","muteButton","orientationOverlay","load","Final Score: ","FloatBetween","/assets/heart.png","speed","ArrowRight","time","/assets/glass-breaking.mp3","dotsTimer","Cubic.easeOut","click","0 x ","find","24px","generateFrameNumbers","isPlaying","#fff","delayedCall","config","restartGameBtn","Between","touchstart","updateHealthBar","explode","2KFVUcY","targetY","Encounters: ","Bounce.easeOut","resume","gameTimer","left","Final Score Breakdown","drugs","explosion","countUpScore","msRequestFullscreen","#goFullScreenBtn","setScale","smuggler","refresh","spawnHeart","width","sys","destroy","getElementById","blocksTimer","rectangle","#gameWinLoseSpan","role","sprite","gameover_bg","Clamp","abs","spawnExplosion","#ffdd44","targetHole","/assets/grind.mp3","updateHealth","/assets/map.jpg","Victim","1198606BwDIhJ","movingLeft","createCursorKeys","weight","anims","index","/assets/sparks.png","none","clientWidth","values","#mobileIntroDiv","some","toLowerCase","pointerout","activeTouches","keys","right","Terrorist","roleTexts","length","image","finalScore","/assets/bus.png","scale","sqrt","#workerScore","healthBar","setText","finalScoreText","fillRect","fillStyle","19604565hQiCWs","name","movingRight","/assets/worker.png","keyboard","preload","Math","animateNextRole","start","create","isDown","game","#000","height","drugsSound","heart","roleObj","sparks","Worker","play","setDepth","removeEventListener","pause","caught","/assets/drugs.png","32px","audio","8888278fcswgK","max","scene-game","webkitRequestFullscreen","#SmugglerScore","spawnDrugs","Smuggler","test","spritesheet","damage","rescued","removeBlock","block","terrorist","bus","min","getScene","scoreText","key","Final Score: 0","setDisplaySize","stop","keydown","sound","25vCpNPy","healthBarBg","scene","explosionSound","forEach","add","counted","(orientation: portrait)","flex","spawnDot","querySelector","7379992QooSrG","targetBottomX","Encounters: 0","roleSprites","Distance","targetX","733626ymXPti","matchMedia","ArrowLeft","scoreTimes","requestFullscreen","#victimScore","grindSound","celebrateRescue","bold","setVolume","WEBGL","graphics","reduce"];return k=function(){return i},k()}U[a(152)](a(194),()=>{const i=a;M[i(154)].display="none",q[i(154)][i(151)]=i(334),H=!0,f[i(328)][i(212)](i(304)),f[i(267)][i(223)](),i0(),window[i(152)](i(205),j),o0(),window[i(152)](i(324),N)}),G[a(152)](a(194),()=>{const i=a;L[i(154)][i(151)]=i(251),M[i(154)].display=i(334),a0(document.documentElement)});let E=!1;const C=document[a(228)](a(182));function s0(){const i=a;E=!E,E?(f[i(325)].mute=!0,C[i(155)]="🔇"):(f[i(325)][i(163)]=!1,C.textContent="🔊")}C[a(152)](a(194),s0);function O(){const i=a;return/Mobi|Android|iPhone|iPad|iPod/i[i(309)](navigator[i(153)])}function a0(i){const x=a;i[x(347)]?i[x(347)]():i.mozRequestFullScreen?i.mozRequestFullScreen():i[x(305)]?i[x(305)]():i[x(219)]&&i.msRequestFullscreen()}function R(){const i=a;let x=document.getElementById(i(183));if(!O()){x[i(154)][i(151)]="none";return}window[i(344)](i(333))[i(150)]?(x[i(154)][i(151)]="flex",f[i(328)][i(297)](i(304))):(x[i(154)][i(151)]=i(251),H&&f[i(328)][i(212)](i(304)))}const z=document[a(228)]("tapOverlay");function g(i,x){const t=k();return g=function(e,s){return e=e-149,t[e]},g(i,x)}function i0(){const i=a;O()&&(z.style[i(151)]="flex")}function j(){const i=a;z[i(154)].display=i(251),window[i(296)]("touchstart",j)}const A=document[a(228)](a(178));function o0(){const i=a;!O()&&(A[i(154)].display="flex")}function N(i){const x=a;(i[x(320)]===x(345)||i[x(320)]===x(189))&&(A[x(154)].display=x(251),window.removeEventListener("keydown",N))}document[a(228)](a(203))[a(152)](a(194),()=>{location.reload()});
